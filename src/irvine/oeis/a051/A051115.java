package irvine.oeis.a051;

import irvine.math.z.Z;
import irvine.oeis.Sequence;

/**
 * A051115 Number of monotone Boolean functions of n variables with 7 mincuts.
 * @author Sean A. Irvine
 */
public class A051115 implements Sequence {

  private final int[][] C = {
    {1, 128},
    {-42, 96},
    {210, 80},
    {140, 72},
    {210, 68},
    {-84, 66},
    {14, 65},
    {-819, 64},
    {-2520, 60},
    {2730, 56},
    {840, 54},
    {840, 52},
    {-420, 51},
    {2940, 50},
    {630, 48},
    {-5040, 46},
    {840, 45},
    {-1260, 44},
    {1680, 43},
    {-9660, 42},
    {1260, 41},
    {3360, 40},
    {-7560, 39},
    {11130, 38},
    {5880, 37},
    {9240, 36},
    {2982, 35},
    {-6300, 34},
    {-8652, 33},
    {-9905, 32},
    {-8400, 31},
    {-8540, 30},
    {13860, 29},
    {14490, 28},
    {-5040, 27},
    {10500, 26},
    {10080, 25},
    {-8120, 24},
    {-15050, 23},
    {-5040, 22},
    {-11340, 21},
    {20580, 20},
    {15750, 19},
    {-1540, 18},
    {-5810, 17},
    {-16485, 16},
    {-21420, 15},
    {26250, 14},
    {21000, 13},
    {-29820, 12},
    {3500, 11},
    {17640, 10},
    {2940, 9},
    {-16016, 8},
    {4410, 7},
    {-9744, 6},
    {9744, 5},
    {1764, 4},
    {-3528, 3},
    {720, 2},
  };

  private int mN = -1;

  @Override
  public Z next() {
    ++mN;
    Z sum = Z.ZERO;
    for (final int[] c : C) {
      sum = sum.add(Z.valueOf(c[1]).pow(mN).multiply(c[0]));
    }
    return sum.divide(5040);
  }
}
